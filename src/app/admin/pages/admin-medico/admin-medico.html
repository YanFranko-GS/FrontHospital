<div class="container mt-4">
  <h2>{{ medicoEditando ? 'Editar Médico' : 'Nuevo Médico' }}</h2>

  <form #form="ngForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="mb-3">
      <label class="form-label">Nombre Completo</label>
      <input type="text" class="form-control" [(ngModel)]="modeloMedico.nombreCompleto" name="nombreCompleto" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Especialidad</label>
      <input type="text" class="form-control" [(ngModel)]="modeloMedico.especialidad" name="especialidad" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Número de Colegiado</label>
      <input type="text" class="form-control" [(ngModel)]="modeloMedico.numeroColegiado" name="numeroColegiado" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Horario Laboral</label>
      <input type="text" class="form-control" [(ngModel)]="modeloMedico.horarioLaboral" name="horarioLaboral" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Consultorio</label>
      <input type="text" class="form-control" [(ngModel)]="modeloMedico.consultorio" name="consultorio" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Teléfono</label>
      <input type="tel" class="form-control" [(ngModel)]="modeloMedico.telefono" name="telefono" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Correo Electrónico</label>
      <input type="email" class="form-control" [(ngModel)]="modeloMedico.correoElectronico" name="correoElectronico" required>
    </div>

    <button type="submit" class="btn btn-success" [disabled]="!form.valid">
      {{ medicoEditando ? 'Guardar Cambios' : 'Agregar Médico' }}
    </button>
    <button *ngIf="medicoEditando" type="button" class="btn btn-secondary ms-2" (click)="cancelarEdicion()">Cancelar</button>
  </form>

  <hr class="my-4">

  <h3 style="color: white;">Lista de Médicos</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nombre Completo</th>
        <th>Especialidad</th>
        <th>N° Colegiado</th>
        <th>Horario Laboral</th>
        <th>Consultorio</th>
        <th>Teléfono</th>
        <th>Correo</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let medico of medicos">
        <td>{{ medico.idMedico }}</td>
        <td>{{ medico.nombreCompleto }}</td>
        <td>{{ medico.especialidad }}</td>
        <td>{{ medico.numeroColegiado }}</td>
        <td>{{ medico.horarioLaboral }}</td>
        <td>{{ medico.consultorio }}</td>
        <td>{{ medico.telefono }}</td>
        <td>{{ medico.correoElectronico }}</td>
        <td>
          <button class="btn btn-success btn-sm" (click)="cargarMedico(medico.idMedico)">Editar</button>
          <button class="btn btn-danger btn-sm" (click)="eliminarMedico(medico.idMedico)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
