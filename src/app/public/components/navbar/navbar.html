<nav [ngClass]="isDarkMode ? 'bg-gradient-to-r from-gray-900 via-blue-900 to-teal-900 shadow-lg' : 'bg-gradient-to-r from-blue-700 to-teal-500 shadow-lg'" class="sticky top-0 z-50 transition-colors duration-500">
  <div class="max-w-7xl flex items-center justify-between h-20 px-8" style="margin-left:auto; margin-right:auto;">
    <!-- Logo y nombre -->
    <a href="/" class="flex items-center gap-3 min-w-[250px]" aria-label="Inicio">
      <img src="https://clinicalosfresnos.com.pe/wp-content/uploads/2023/09/Doc1-640x638.png" alt="Logo Clínica" class="w-10 h-10 rounded-full border-2 border-white shadow-md transition-transform duration-300 hover:scale-105">
      <span [ngClass]="isDarkMode ? 'text-3xl font-bold text-white tracking-wide' : 'text-3xl font-bold text-white tracking-wide'" class="transition-colors duration-500">Citas Médicas</span>
    </a>

    <!-- Menú centrado con ancho máximo -->
    <ul class="flex items-center justify-center gap-12 text-xl font-semibold flex-1 max-w-xl mx-8">
      <li>
        <a routerLink="/" routerLinkActive="text-teal-200 border-b-2 border-teal-200" [routerLinkActiveOptions]="{ exact: true }"
          [ngClass]="isDarkMode ? 'flex items-center gap-2 text-white transition-all duration-300 hover:text-teal-200 hover:scale-105 py-2' : 'flex items-center gap-2 text-white transition-all duration-300 hover:text-teal-100 hover:scale-105 py-2'">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125h3.75v-4.5c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v4.5h3.75c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21.75h7.5" /></svg>
          Inicio
        </a>
      </li>
      <li *ngIf="isLoggedIn()">
        <a routerLink="/IndexDash" routerLinkActive="text-teal-200 border-b-2 border-teal-200" [ngClass]="isDarkMode ? 'flex items-center gap-2 text-white transition-all duration-300 hover:text-teal-200 hover:scale-105 py-2' : 'flex items-center gap-2 text-white transition-all duration-300 hover:text-teal-100 hover:scale-105 py-2'">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21V3.75A2.25 2.25 0 016 1.5h12a2.25 2.25 0 012.25 2.25V21m-16.5 0h16.5m-16.5 0a2.25 2.25 0 002.25 2.25h12a2.25 2.25 0 002.25-2.25m-16.5 0V9.75m16.5 11.25V9.75M9.75 10.5h4.5m-2.25-2.25v4.5" /></svg>
          Dashboard
        </a>
      </li>
      <li *ngIf="!isLoggedIn()">
        <a routerLink="/login" routerLinkActive="text-teal-200 border-b-2 border-teal-200" [ngClass]="isDarkMode ? 'flex items-center gap-2 text-white transition-all duration-300 hover:text-teal-200 hover:scale-105 py-2' : 'flex items-center gap-2 text-white transition-all duration-300 hover:text-teal-100 hover:scale-105 py-2'">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.5 20.25a8.25 8.25 0 1115 0v.75A2.25 2.25 0 0117.25 23.25H6.75A2.25 2.25 0 014.5 21v-.75z" /></svg>
          Iniciar Sesión
        </a>
      </li>
      <li *ngIf="isLoggedIn()">
        <a (click)="logout()" style="cursor: pointer;" [ngClass]="isDarkMode ? 'flex items-center gap-2 text-white transition-all duration-300 hover:text-red-300 hover:scale-105 py-2' : 'flex items-center gap-2 text-white transition-all duration-300 hover:text-red-200 hover:scale-105 py-2'">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg>
          Salir
        </a>
      </li>
    </ul>

    <!-- Botón de tema -->
    <div class="flex items-center justify-end min-w-[120px]">
      <button class="w-14 h-14 flex flex-col items-center justify-center rounded-full font-semibold shadow-lg border border-white/30 text-lg transition-all duration-500 focus:outline-none group"
        [ngClass]="isDarkMode ? 'bg-gray-800 text-teal-200 hover:bg-gray-700' : 'bg-white text-blue-700 hover:bg-blue-100'"
        type="button" (click)="toggleMode()" aria-label="Cambiar tema">
        <span class="flex flex-col items-center gap-1">
          <i [ngClass]="isDarkMode ? 'fa-solid fa-sun' : 'fa-solid fa-moon'" class="text-2xl transition-transform duration-500 group-hover:rotate-180" [style.transform]="isDarkMode ? 'rotate(0deg)' : 'rotate(-20deg)'"></i>
          <span class="text-xs font-medium mt-1 transition-colors duration-500">Tema</span>
        </span>
      </button>
    </div>
  </div>

  <!-- Menú móvil -->
  <div *ngIf="showMobileMenu" class="md:hidden bg-white dark:bg-gray-900 shadow-lg px-8 py-6 animate-fade-in-down" role="menu">
    <ul class="flex flex-col gap-6 text-xl font-semibold">
      <li>
        <a routerLink="/" routerLinkActive="text-teal-600 border-l-4 border-teal-600" [routerLinkActiveOptions]="{ exact: true }" class="flex items-center gap-3 text-blue-900 dark:text-white transition-all duration-300 hover:text-teal-700 dark:hover:text-teal-200 hover:scale-105 py-2">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125h3.75v-4.5c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v4.5h3.75c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21.75h7.5" /></svg>
          Inicio
        </a>
      </li>
      <li *ngIf="isLoggedIn()">
        <a routerLink="/IndexDash" routerLinkActive="text-teal-600 border-l-4 border-teal-600" class="flex items-center gap-3 text-blue-900 dark:text-white transition-all duration-300 hover:text-teal-700 dark:hover:text-teal-200 hover:scale-105 py-2">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21V3.75A2.25 2.25 0 016 1.5h12a2.25 2.25 0 012.25 2.25V21m-16.5 0h16.5m-16.5 0a2.25 2.25 0 002.25 2.25h12a2.25 2.25 0 002.25-2.25m-16.5 0V9.75m16.5 11.25V9.75M9.75 10.5h4.5m-2.25-2.25v4.5" /></svg>
          Dashboard
        </a>
      </li>
      <li *ngIf="!isLoggedIn()">
        <a routerLink="/login" routerLinkActive="text-teal-600 border-l-4 border-teal-600" class="flex items-center gap-3 text-blue-900 dark:text-white transition-all duration-300 hover:text-teal-700 dark:hover:text-teal-200 hover:scale-105 py-2">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.5 20.25a8.25 8.25 0 1115 0v.75A2.25 2.25 0 0117.25 23.25H6.75A2.25 2.25 0 014.5 21v-.75z" /></svg>
          Iniciar Sesión
        </a>
      </li>
      <li *ngIf="isLoggedIn()">
        <a (click)="logout()" style="cursor: pointer;" class="flex items-center gap-3 text-blue-900 dark:text-white transition-all duration-300 hover:text-red-600 dark:hover:text-red-300 hover:scale-105 py-2">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg>
          Salir
        </a>
      </li>
    </ul>
  </div>
</nav>

<main [ngClass]="isDarkMode ? 'bg-gray-900 min-h-screen' : 'bg-blue-50 min-h-screen'">
  <router-outlet></router-outlet>
</main>
