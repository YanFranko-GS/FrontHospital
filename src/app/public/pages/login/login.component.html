<div class="h-screen flex items-start justify-center pt-16 bg-blue-50 dark:bg-gray-900">
  <div class="max-w-md w-full p-8 bg-white/90 dark:bg-gray-900/90 rounded-2xl shadow-2xl border border-blue-100 dark:border-teal-900 animate-fade-in">
    <h2 class="text-2xl font-bold text-center text-blue-700 dark:text-teal-200 mb-8">Iniciar Sesión</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-6">
      <!-- Usuario o Email -->
      <div>
        <label for="nombreOrCorreo" class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2">Usuario o Email</label>
        <input
          type="text"
          id="nombreOrCorreo"
          formControlName="nombreOrCorreo"
          required
          [ngClass]="{
            'border-red-500': loginForm.get('nombreOrCorreo')?.invalid && loginForm.get('nombreOrCorreo')?.touched,
            'border-gray-300 dark:border-gray-700': !(loginForm.get('nombreOrCorreo')?.invalid && loginForm.get('nombreOrCorreo')?.touched)
          }"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 dark:bg-gray-800 dark:text-white transition"
        >
        <div *ngIf="loginForm.get('nombreOrCorreo')?.invalid && loginForm.get('nombreOrCorreo')?.touched" class="text-red-500 text-xs mt-1 animate-pulse">
          Campo requerido
        </div>
      </div>

      <!-- Contraseña con toggle -->
      <div>
        <label for="contrasena" class="block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2">Contraseña</label>
        <div class="relative">
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="contrasena"
            formControlName="contrasena"
            required
            [ngClass]="{
              'border-red-500': loginForm.get('contrasena')?.invalid && loginForm.get('contrasena')?.touched,
              'border-gray-300 dark:border-gray-700': !(loginForm.get('contrasena')?.invalid && loginForm.get('contrasena')?.touched)
            }"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 dark:bg-gray-800 dark:text-white transition pr-12"
          >
          <button type="button"
            (click)="showPassword = !showPassword"
            tabindex="-1"
            class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-blue-700 dark:hover:text-teal-200 transition"
            aria-label="Mostrar u ocultar contraseña">
            <!-- Ojo abierto (Phosphor) -->
            <svg *ngIf="!showPassword" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 256 256">
              <path d="M128 56C80 56 40 104 40 128s40 72 88 72 88-48 88-72-40-72-88-72zm0 120a48 48 0 1 1 48-48 48.05 48.05 0 0 1-48 48zm0-80a32 32 0 1 0 32 32 32 32 0 0 0-32-32z" fill="currentColor"/>
            </svg>
            <!-- Ojo tachado (Phosphor) -->
            <svg *ngIf="showPassword" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 256 256">
              <path d="M48 40l160 176M208 128c0 24-40 72-88 72a87.6 87.6 0 0 1-40-9.6M48 128c0-24 40-72 88-72a87.6 87.6 0 0 1 40 9.6" stroke="currentColor" stroke-width="16" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              <circle cx="128" cy="128" r="32" stroke="currentColor" stroke-width="16" fill="none"/>
            </svg>
          </button>
        </div>
        <div *ngIf="loginForm.get('contrasena')?.invalid && loginForm.get('contrasena')?.touched" class="text-red-500 text-xs mt-1 animate-pulse">
          Campo requerido
        </div>
      </div>

      <button
        type="submit"
        [disabled]="!loginForm.valid"
        class="w-full py-3 rounded-lg bg-blue-700 hover:bg-blue-800 dark:bg-teal-700 dark:hover:bg-teal-800 text-white font-semibold transition disabled:bg-gray-300 disabled:cursor-not-allowed"
      >
        Ingresar
      </button>
    </form>
    <div class="text-center mt-6">
      <button
        type="button"
        (click)="router.navigate(['/register'])"
        class="inline-block text-blue-700 dark:text-teal-200 font-medium hover:underline hover:text-blue-900 dark:hover:text-teal-400 transition-all duration-300 ease-in-out transform hover:scale-105"
        [@fadeInOut]>
        ¿No tienes cuenta? <span class="underline">Regístrate aquí</span>
      </button>
    </div>
  </div>
</div>